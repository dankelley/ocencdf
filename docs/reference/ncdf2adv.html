<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Read a NetCDF file and create an adv object — ncdf2adv • ocencdf</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Read a NetCDF file and create an adv object — ncdf2adv"><meta property="og:description" content='This works by calling ncdf2oce() and then using class() on
the result to make it be of subclass "adv".  This is intended
to work with NetCDF files created with adv2ncdf(), which embeds
sufficient information in the file to permit ncdf2adv() to
reconstruct the original adv object. See the documentation
for adv2ncdf() to learn more about what it stores, and therefore
what ncdf2adv() attempts to read.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ocencdf</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/built_in_vartables.html">Built-in varTables</a>
    </li>
    <li>
      <a href="../articles/introduction.html">Introduction to ocencdf</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/dankelley/ocencdf/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Read a NetCDF file and create an adv object</h1>
    <small class="dont-index">Source: <a href="https://github.com/dankelley/ocencdf/blob/HEAD/R/adv.R" class="external-link"><code>R/adv.R</code></a></small>
    <div class="hidden name"><code>ncdf2adv.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This works by calling <code><a href="ncdf2oce.html">ncdf2oce()</a></code> and then using <code><a href="https://rdrr.io/r/base/class.html" class="external-link">class()</a></code> on
the result to make it be of subclass <code>"adv"</code>.  This is intended
to work with NetCDF files created with <code><a href="adv2ncdf.html">adv2ncdf()</a></code>, which embeds
sufficient information in the file to permit <code>ncdf2adv()</code> to
reconstruct the original adv object. See the documentation
for <code><a href="adv2ncdf.html">adv2ncdf()</a></code> to learn more about what it stores, and therefore
what <code>ncdf2adv()</code> attempts to read.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ncdf2adv</span><span class="op">(</span>ncfile <span class="op">=</span> <span class="cn">NULL</span>, varTable <span class="op">=</span> <span class="cn">NULL</span>, debug <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>ncfile</dt>
<dd><p>character value naming the input file.</p></dd>


<dt>varTable</dt>
<dd><p>character value indicating the variable-naming
scheme to be used, which is passed to <code><a href="read.varTable.html">read.varTable()</a></code> to set
up variable names, units, etc.</p></dd>


<dt>debug</dt>
<dd><p>integer, 0 (the default) for quiet action apart
from messages and warnings, or any larger value to see more
output that describes the processing steps.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p><code>ncdf2adv()</code> returns an <a href="https://dankelley.github.io/oce/reference/adv-class.html" class="external-link">adv</a> object.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other things related to adv data: 
<code><a href="adv2ncdf.html">adv2ncdf</a>()</code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Dan Kelley</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">ocencdf</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example with an adv file from oce package</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">adv</span>, package<span class="op">=</span><span class="st">"oce"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">adv</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ADV Summary</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Instrument:    vector, serial number ``(serial number redacted)``</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Filename:      `(file name redacted)`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Location:      47.87943 N ,  -69.72533 E </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Time:          2008-07-01 00:00:00 to 2008-07-01 00:00:59 (480 samples, mean increment 0.1250001 s)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Data Overview</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                         Min.                Mean                Max.  Dim. NAs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     v [m/s]                        -0.080871          0.00069514            0.057789 480x3   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     a                                     NA                  NA                  NA 480x3   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     q                                     NA                  NA                  NA 480x3   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     time                 2008-07-01 00:00:00 2008-07-01 00:00:30 2008-07-01 00:00:59   480   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pressure [dbar]                    16.85              16.866              16.879   480   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     timeBurst                             NA                  NA                  NA   480 480</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     recordsBurst                          NA                  NA                  NA   480 480</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     voltageSlow                          9.7                9.71                 9.8    60   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     timeSlow                      1214870401          1214870430          1214870460    60   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     headingSlow [°]                   -23.39              -23.39              -23.39    60   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pitchSlow [°]                        0.4                 0.5                 0.6    60   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     rollSlow [°]                        -6.2              -6.145                -6.1    60   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     temperatureSlow [°C]                6.47              6.4997                6.51    60   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Processing Log</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - 2015-12-23 17:53:39 UTC: `read.oce(file = "/data/archive/sleiwex/2008/moorings/m05/adv/nortek_1943/raw/adv_nortek_1943.vec",     from = as.POSIXct("2008-06-25 00:00:00", tz = "UTC"), to = as.POSIXct("2008-07-06 00:00:00",         tz = "UTC"), latitude = 47.87943, longitude = -69.72533)`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - 2015-12-23 17:53:54 UTC: `retime(x = m05VectorBeam, a = 0.58, b = 6.3892e-07, t0 = as.POSIXct("2008-07-01 00:00:00",     tz = "UTC"))`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - 2015-12-23 17:53:55 UTC: `subset(x, subset=as.POSIXct("2008-06-25 13:00:00", tz = "UTC") &lt;= time &amp; time &lt;=      as.POSIXct("2008-07-03 00:50:00", tz = "UTC"))`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - 2015-12-23 17:53:55 UTC: `oceEdit(x = m05VectorBeam, item = "transformationMatrix", value = rbind(c(11033,     -5803, -5238), c(347, -9622, 9338), c(-1418, -1476, -1333))/4096,     reason = "Nortek email 2011-02-14", person = "DEK")`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - 2015-12-23 17:53:55 UTC: `use aquadoppHR heading; despike own pitch and roll`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - 2015-12-23 17:54:11 UTC: `beamToXyzAdv(x = x)`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - 2015-12-23 17:54:34 UTC: `xyzToEnu(x, declination=-18.099, horizontalCase=TRUE, sensorOrientiation=upward, debug=0)`</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">adv</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="ncdf2adv-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># Transfer to NetCDF and back to see if results make sense</span></span></span>
<span class="r-in"><span><span class="fu"><a href="oce2ncdf.html">oce2ncdf</a></span><span class="op">(</span><span class="va">adv</span>, ncfile<span class="op">=</span><span class="st">"adv.nc"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ADV</span> <span class="op">&lt;-</span> <span class="fu">ncdf2adv</span><span class="op">(</span><span class="st">"adv.nc"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ADV</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ADV Summary</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Instrument:    vector, serial number ``(serial number redacted)``</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Filename:      `(file name redacted)`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Location:      47.87943 N ,  -69.72533 E </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Time:          2008-07-01 00:00:00 to 2008-07-01 00:00:59 (480 samples, mean increment 0.1250001 s)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Data Overview</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                         Min.                Mean                Max.  Dim. NAs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     v [m/s]                        -0.080871          0.00069514            0.057789 480x3   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     a                                     NA                  NA                  NA 480x3   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     q                                     NA                  NA                  NA 480x3   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     time                 2008-07-01 00:00:00 2008-07-01 00:00:30 2008-07-01 00:00:59   480   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pressure [dbar]                    16.85              16.866              16.879   480   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     timeBurst                             NA                  NA                  NA   480 480</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     recordsBurst                          NA                  NA                  NA   480 480</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     voltageSlow                          9.7                9.71                 9.8    60   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     timeSlow                      1214870401          1214870430          1214870460    60   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     headingSlow [°]                   -23.39              -23.39              -23.39    60   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pitchSlow [°]                        0.4                 0.5                 0.6    60   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     rollSlow [°]                        -6.2              -6.145                -6.1    60   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     temperatureSlow [°C]                6.47              6.4997                6.51    60   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> * Processing Log</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - 2024-01-26 11:42:57 UTC: `Create oce object`</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">ADV</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="ncdf2adv-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Remove temporary file</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.remove</a></span><span class="op">(</span><span class="st">"adv.nc"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Dan Kelley, Clark Richards.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.9000.</p>
</div>

      </footer></div>

  


  

  </body></html>

